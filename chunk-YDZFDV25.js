import{b as L,c as j,h as W,m as O,z}from"./chunk-7KKUAYPQ.js";import{b as R}from"./chunk-J2BWD7VW.js";import"./chunk-ZGIVXYW6.js";import"./chunk-MVDESLFV.js";import{o as B,p as V}from"./chunk-334OGYJB.js";import{$b as S,Ab as y,Eb as b,Ib as p,Jb as m,Sa as o,Vb as T,Wb as N,Xa as M,Xb as i,Yb as x,Zb as f,ac as w,bc as C,ca as c,cb as D,da as u,ea as g,fa as _,ic as h,jc as I,kc as k,sb as v,tb as E,vb as P,vc as F,wb as A,yb as e,zb as t}from"./chunk-3TIMSXSI.js";import"./chunk-2NFLSA4Y.js";var U=(s,r)=>r.serialNo;function G(s,r){if(s&1){let n=b();e(0,"button",24),p("click",function(a){c(n);let d=m().$implicit;return m().openReceiptModal(d),u(a.stopPropagation())}),g(),e(1,"svg",25),y(2,"path",26),t()()}}function J(s,r){s&1&&(e(0,"span",23),i(1,"-"),t())}function Y(s,r){if(s&1){let n=b();e(0,"tr",16)(1,"td",19)(2,"input",20),C("ngModelChange",function(a){let d=c(n).$implicit;return w(d.selected,a)||(d.selected=a),u(a)}),p("change",function(a){return c(n),u(a.stopPropagation())}),t()(),e(3,"td",21),i(4),t(),e(5,"td",21),i(6),t(),e(7,"td",21),i(8),t(),e(9,"td",21),i(10),t(),e(11,"td",21),i(12),h(13,"number"),t(),e(14,"td",19)(15,"span"),i(16),t()(),e(17,"td",21),i(18),t(),e(19,"td",21),v(20,G,3,0,"button",22)(21,J,2,0,"span",23),t()()}if(s&2){let n=r.$implicit;o(2),S("ngModel",n.selected),o(2),x(n.serialNo),o(2),x(n.beneficiaryName),o(2),x(n.beneficiaryAccount),o(2),x(n.mobileNo),o(2),f("\u20A6",I(13,11,n.amount)),o(3),N(n.status==="Success"?"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium":"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"),o(),f(" ",n.status," "),o(2),x(n.reason),o(2),E(n.status==="Success"?20:21)}}function Z(s,r){s&1&&(e(0,"tr")(1,"td",27),i(2," No payments found matching your filter criteria "),t()())}function $(s,r){if(s&1){let n=b();e(0,"div",17)(1,"div",28),p("click",function(){c(n);let a=m();return u(a.closeReceiptModal())}),t(),e(2,"div",29)(3,"div",30)(4,"div",31)(5,"h3",32),i(6,"Receipt"),t(),e(7,"div",33)(8,"button",34),p("click",function(){c(n);let a=m();return u(a.openEmailModal())}),i(9," Email "),t(),e(10,"button",35),p("click",function(){c(n);let a=m();return u(a.downloadReceipt())}),i(11," Download "),t(),e(12,"button",36),p("click",function(){c(n);let a=m();return u(a.closeReceiptModal())}),g(),e(13,"svg",37),y(14,"path",38),t()()()(),_(),e(15,"div",39)(16,"div",40)(17,"p",41),i(18),t(),e(19,"p",42),i(20),t(),e(21,"p",42),i(22),t()(),e(23,"h2",43),i(24),t(),e(25,"div",44)(26,"h4",45),i(27,"PAYMENT DETAILS"),t(),e(28,"div",46)(29,"div",47)(30,"span"),i(31),t(),e(32,"span"),i(33),h(34,"number"),t()(),e(35,"div",48)(36,"span"),i(37),h(38,"number"),t()(),e(39,"div",48)(40,"span",49),i(41),h(42,"number"),t()()()(),e(43,"div",44)(44,"h4",45),i(45,"INVOICE DETAILS"),t(),e(46,"div",50)(47,"div",47)(48,"span"),i(49,"CARD #9834"),t(),e(50,"span"),i(51,"VISA"),t()(),e(52,"div",47)(53,"span"),i(54,"PAYMENT: CREDIT"),t(),e(55,"span"),i(56,"CHIP READ-CONTACT"),t()(),e(57,"div",47)(58,"span"),i(59,"MODE"),t(),e(60,"span"),i(61,"ISSUER"),t()(),e(62,"div",47)(63,"span"),i(64,"MID"),t(),e(65,"span"),i(66,"MID"),t()(),e(67,"div",47)(68,"span"),i(69,"TID"),t(),e(70,"span"),i(71,"TID"),t()(),e(72,"div",47)(73,"span"),i(74,"APP LABEL:"),t(),e(75,"span"),i(76,"APP LABEL"),t()(),e(77,"div",47)(78,"span"),i(79,"CVM"),t(),e(80,"span"),i(81,"CVM"),t()(),e(82,"div",47)(83,"span"),i(84,"AID"),t(),e(85,"span"),i(86,"AID"),t()(),e(87,"div",47)(88,"span"),i(89,"CID"),t(),e(90,"span"),i(91,"CID"),t()(),e(92,"div",47)(93,"span"),i(94,"AC"),t(),e(95,"span"),i(96,"AC"),t()(),e(97,"div",47)(98,"span"),i(99,"AMOUNT"),t(),e(100,"span"),i(101,"AMOUNT"),t()()()(),e(102,"div",51)(103,"p",52),i(104,"***CARD APPROVED***"),t()(),e(105,"div",40)(106,"p",41),i(107,"AMOUNT PAID: $12.50"),t()()()()()()}if(s&2){let n=m();o(18),x(n.receiptData.agencyName),o(2),x(n.receiptData.agencyAddress),o(2),x(n.receiptData.agencyCityStateZip),o(2),f("ORDER #: ",n.receiptData.orderNumber),o(7),f("Citation: ",n.receiptData.citation),o(2),f("Agency SubTotal: $",k(34,8,n.receiptData.subTotal,"1.2-2")),o(4),f("Lexxines Service Fee: $",k(38,11,n.receiptData.serviceFee,"1.2-2")),o(4),f("Total USD: $",k(42,14,n.receiptData.total,"1.2-2"))}}function q(s,r){if(s&1){let n=b();e(0,"div",18)(1,"div",53)(2,"div",54)(3,"h3",55),i(4,"Email"),t(),e(5,"button",56),p("click",function(){c(n);let a=m();return u(a.closeEmailModal())}),g(),e(6,"svg",37),y(7,"path",38),t()()(),_(),e(8,"div",57)(9,"input",58),C("ngModelChange",function(a){c(n);let d=m();return w(d.emailAddress,a)||(d.emailAddress=a),u(a)}),t()(),e(10,"div",59)(11,"button",60),p("click",function(){c(n);let a=m();return u(a.sendEmail())}),i(12," Send "),t()()()()}if(s&2){let n=m();o(9),S("ngModel",n.emailAddress)}}var H=class s{constructor(r,n){this.route=r;this.cdRef=n;this.route.params.subscribe(l=>{this.fileId=l.id,this.fileName=l.fileName||"Payment_File_"+this.fileId,console.log("Viewing file:",this.fileName,"with ID:",this.fileId),this.initializeData()})}fileId=null;fileName="";filterText="";originalPaymentDetails=[];filteredPaymentDetails=[];showReceiptModal=!1;selectedReceipt=null;showEmailModal=!1;emailAddress="";receiptData={orderNumber:"123456789",agencyName:"Lexxines Agency",agencyAddress:"123 Business Street",agencyCityStateZip:"Lagos, Nigeria 100001",citation:"98765",subTotal:10,serviceFee:10,total:20};initializeData(){this.originalPaymentDetails=[{serialNo:1,beneficiaryName:"John Doe",beneficiaryAccount:"1234567890",mobileNo:"08012345678",amount:5e3,status:"Success",reason:""},{serialNo:2,beneficiaryName:"Jane Smith",beneficiaryAccount:"0987654321",mobileNo:"08098765432",amount:7500,status:"Failed",reason:"Wrong Bank Code"},{serialNo:3,beneficiaryName:"Robert Johnson",beneficiaryAccount:"1122334455",mobileNo:"08011223344",amount:1e4,status:"Success",reason:""},{serialNo:4,beneficiaryName:"Emily Davis",beneficiaryAccount:"5566778899",mobileNo:"08055667788",amount:3e3,status:"Failed",reason:"Insufficient Funds"}],this.filteredPaymentDetails=[...this.originalPaymentDetails]}applyFilter(){if(!this.filterText){this.filteredPaymentDetails=[...this.originalPaymentDetails];return}let r=this.filterText.toLowerCase();this.filteredPaymentDetails=this.originalPaymentDetails.filter(n=>n.beneficiaryName.toLowerCase().includes(r)||n.beneficiaryAccount.includes(r)||n.mobileNo.includes(r)||n.amount.toString().includes(r)||n.status.toLowerCase().includes(r)||n.reason&&n.reason.toLowerCase().includes(r))}openReceiptModal(r){console.log("Attempting to open modal for:",r),r.status==="Success"&&(this.selectedReceipt=r,this.showReceiptModal=!0,console.log("Modal should be visible now"))}closeReceiptModal(){this.showReceiptModal=!1,this.selectedReceipt=null}toggleAll(r){let n=r.target.checked;this.filteredPaymentDetails.forEach(l=>l.selected=n)}downloadReceipt(){console.log("Download receipt for:",this.selectedReceipt)}openEmailModal(){this.showEmailModal=!0}closeEmailModal(){this.showEmailModal=!1,this.emailAddress=""}sendEmail(){this.emailAddress&&(console.log("Sending email to:",this.emailAddress),this.closeEmailModal())}static \u0275fac=function(n){return new(n||s)(M(R),M(F))};static \u0275cmp=D({type:s,selectors:[["app-bulk-payment-file"]],decls:41,vars:9,consts:[[1,"relative"],[1,"p-6"],[1,"transition","duration-200"],[1,"text-xl","font-semibold","mb-2"],[1,"flex","justify-between","items-center","bg-gray-50","border-b","border-gray-200","p-4"],[1,"text-lg","font-medium","text-gray-600","mb-6"],["type","text","placeholder","Filter payments...",1,"pl-10","pr-4","py-2","border","border-gray-300","rounded-md","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"w-full"],[1,"bg-gray-50","border-b","border-gray-200"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["type","checkbox",1,"h-4","w-4","text-blue-600","rounded","focus:ring-blue-500",3,"change"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],[1,"fixed","inset-0","z-50","overflow-auto"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-opacity-30"],[1,"px-4","py-3","text-sm"],["type","checkbox",1,"h-4","w-4","text-blue-600","rounded","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],[1,"px-4","py-3","text-sm","text-gray-900"],[1,"text-blue-500","hover:text-blue-700"],[1,"text-gray-400"],[1,"text-blue-500","hover:text-blue-700",3,"click"],["fill","none","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["colspan","8",1,"px-4","py-6","text-center","text-sm","text-gray-500"],[1,"absolute","inset-0","bg-opacity-10","transition-opacity",3,"click"],[1,"fixed","inset-y-0","right-0","w-full","max-w-[25%]","bg-gray-20","shadow-xl","h-full","transform","transition-transform","duration-300","ease-in-out","translate-x-0"],[1,"h-full","flex","flex-col"],[1,"flex","justify-between","items-center","border-b","p-4","bg-white"],[1,"text-sm","font-semibold"],[1,"space-x-2"],[1,"px-3","py-1","border","border-gray-300","rounded","text-xs","font-medium","text-gray-700","hover:bg-gray-50",3,"click"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","text-xs","font-medium","hover:bg-blue-700",3,"click"],[1,"text-white","bg-blue-500","hover:bg-red-700","rounded-full","p-1.5","ml-2","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","p-4","bg-gray-50","rounded-t-lg","space-y-4","overflow-y-auto"],[1,"text-left"],[1,"font-medium","text-sm"],[1,"text-xs"],[1,"text-center","bg-gray-50","text-sm","font-semibold","mb-4"],[1,"mb-4","bg-white","p-3","rounded-md","shadow-sm"],[1,"font-medium","text-xs","mb-2"],[1,"space-y-1","text-xs"],[1,"flex","justify-between"],[1,"flex","justify-end"],[1,"text-red-600","font-semibold"],[1,"space-y-2","text-xs"],[1,"text-center","mb-4"],[1,"text-emerald-500","font-semibold","text-sm"],[1,"bg-white","rounded-lg","shadow-lg","w-[90%]","sm:w-[400px]","p-6","relative"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-center","flex-1"],[1,"text-white","bg-red-600","hover:bg-red-700","rounded-full","p-1.5","ml-2","focus:outline-none",3,"click"],[1,"mb-4"],["type","email","placeholder","Enter Email ID",1,"w-full","px-4","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"text-center"],[1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition-colors",3,"click"]],template:function(n,l){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),i(4,"Bulk Payment"),t(),e(5,"div",4)(6,"h2",5),i(7),t(),e(8,"div",0)(9,"input",6),C("ngModelChange",function(d){return w(l.filterText,d)||(l.filterText=d),d}),p("input",function(){return l.applyFilter()}),t(),e(10,"div",7),g(),e(11,"svg",8),y(12,"path",9),t()()()(),_(),e(13,"div",10)(14,"table",11)(15,"thead",12)(16,"tr")(17,"th",13)(18,"input",14),p("change",function(d){return l.toggleAll(d)}),t()(),e(19,"th",13),i(20,"Serial No."),t(),e(21,"th",13),i(22,"Beneficiary Name"),t(),e(23,"th",13),i(24,"Beneficiary A/C"),t(),e(25,"th",13),i(26,"Mobile No."),t(),e(27,"th",13),i(28,"Amount"),t(),e(29,"th",13),i(30,"Status"),t(),e(31,"th",13),i(32,"Reason"),t(),e(33,"th",13),i(34,"Receipt"),t()()(),e(35,"tbody",15),P(36,Y,22,13,"tr",16,U,!1,Z,3,0,"tr"),t()()()(),v(39,$,108,17,"div",17),v(40,q,13,1,"div",18),t()()),n&2&&(o(2),T("blur-sm",l.showReceiptModal||l.showEmailModal)("pointer-events-none",l.showReceiptModal||l.showEmailModal),o(5),x(l.fileName),o(2),S("ngModel",l.filterText),o(27),A(l.filteredPaymentDetails),o(3),E(l.showReceiptModal?39:-1),o(),E(l.showEmailModal?40:-1))},dependencies:[V,B,z,j,L,W,O],encapsulation:2})};export{H as BulkPaymentFile};
