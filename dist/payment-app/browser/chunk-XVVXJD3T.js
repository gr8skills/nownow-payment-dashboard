import"./chunk-3RK6DDJD.js";import{a as U}from"./chunk-4F5CH247.js";import{a as J,b as K}from"./chunk-7I64ZNS7.js";import{e as j,h as T}from"./chunk-6OFH25Z4.js";import{a as B}from"./chunk-3SHQUS67.js";import{a as v}from"./chunk-METUFYIJ.js";import{b as V}from"./chunk-ZJ2K3AZV.js";import{a as H}from"./chunk-FL4KNXRL.js";import"./chunk-KMXAENHX.js";import{a as q}from"./chunk-S2LAGHCE.js";import{L as G}from"./chunk-BLRPO3V7.js";import{A as R,b as P,c as w,e as h,h as A,i as D,j as N,l as b,n as E,p as _,r as O}from"./chunk-42IJ7B5N.js";import{b as z,c as d}from"./chunk-CU2GO6I3.js";import"./chunk-4J7Y23TQ.js";import{d as I,e as L}from"./chunk-FLUB3X5H.js";import{b as k}from"./chunk-SBLTLQWW.js";import"./chunk-JRKGGQZY.js";import{r as M}from"./chunk-FV7KSPUE.js";import{Ab as a,Ib as C,Jb as x,Sa as l,Xb as m,Z as p,cb as g,fc as F,gc as f,ma as u,sb as y,tb as S,xb as s,yb as t,zb as i}from"./chunk-JFWELGSQ.js";import"./chunk-2NFLSA4Y.js";var Z=o=>[o],Q=(o,e)=>["/",o,e];function $(o,e){if(o&1&&a(0,"app-error-message",13),o&2){let r=x();s("message",r.message())}}var c=class o{authService=p(z);router=p(I);snackBar=p(H);AppPaths=d;AuthPaths=v;loading=u(!1);message=u("");subs=new q;ngOnDestroy(){this.subs.unSubscribe()}loginForm=new N({phone:new b("",{validators:[h.required,h.maxLength(11)]}),rememberMe:new b(!0)});get phone(){return this.loginForm.get("phone")}onSubmit(){this.loginForm.invalid||(this.loading.set(!0),this.subs.add=this.authService.sendOtp(this.phone?.value).subscribe({next:e=>{this.loading.set(!1),e.mfsCommonServiceResponse.mfsStatusInfo.status.includes("Failure")&&(this.snackBar.open(e.mfsCommonServiceResponse.mfsStatusInfo.errorDescription,"close",K),this.message.set(e.mfsCommonServiceResponse.mfsStatusInfo.errorDescription)),this.router.navigate([d.auth,v.verifyOtp],{queryParams:{phone:this.phone?.value}})},error:e=>{this.loading.set(!1),this.message.set(e?.error?.message)}}))}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=g({type:o,selectors:[["app-login-form"]],decls:26,vars:15,consts:[["ngSrc","/icons/United Softwares Logo.svg","alt","United Softwares logo","width","240","height","40","priority","",1,"w-26","h-10","object-contain","mx-auto",3,"routerLink"],[1,"mb-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"text-gray-600","text-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","phone",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["type","phone","id","phone","formControlName","phone","placeholder","Enter your phone number","autocomplete","tel","appInputStyle",""],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["type","checkbox","formControlName","rememberMe",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],[1,"ml-2","text-sm","text-gray-600"],["type","button",1,"text-sm","text-red-500","hover:text-red-600","font-medium",3,"routerLink"],[3,"message"],["text","Sign In","type","submit",3,"loading","disabled"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600"],["type","button",1,"text-blue-600","hover:text-blue-700","font-medium","ml-1",3,"routerLink"]],template:function(r,n){r&1&&(a(0,"img",0),t(1,"div",1)(2,"h1",2),m(3,"Sign In"),i(),t(4,"p",3),m(5,"Access the dashboard using your email and passcode."),i()(),t(6,"form",4),C("ngSubmit",function(){return n.onSubmit()}),t(7,"div")(8,"label",5),m(9," Phone Number "),i(),t(10,"div",6),a(11,"input",7),i()(),t(12,"div",8)(13,"label",9),a(14,"input",10),t(15,"span",11),m(16,"Remember Me"),i()(),t(17,"button",12),m(18," Forgot Password "),i()(),y(19,$,1,1,"app-error-message",13),a(20,"app-button",14),i(),t(21,"div",15)(22,"p",16),m(23," New on our platform? "),t(24,"button",17),m(25," Create an account "),i()()()),r&2&&(s("routerLink",F(7,Z,n.AppPaths.home)),l(6),s("formGroup",n.loginForm),l(11),s("routerLink",f(9,Q,n.AppPaths.auth,n.AuthPaths.forgotPassword)),l(2),S(n.message()&&!n.loading()?19:-1),l(),s("loading",n.loading())("disabled",n.loginForm.invalid),l(4),s("routerLink",f(12,Q,n.AppPaths.auth,n.AuthPaths.register)))},dependencies:[R,E,w,P,A,D,_,O,j,T,B,L,G,V,M,U,J],encapsulation:2,changeDetection:0})};var W=class o{title=p(k);AppPaths=d;canLogin=u(!1);ngOnInit(){this.title.setTitle("Register Account")}onSelected(e){this.canLogin.set(e)}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=g({type:o,selectors:[["app-sign-in"]],decls:5,vars:0,consts:[[1,"relative","grid","md:grid-cols-2","h-screen"],[1,"flex","flex-col","justify-center","p-3","md:pl-[10%]"],[1,"max-w-lg"],["id","login-bg",1,"hidden","md:block","bg-gray-400"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),a(3,"app-login-form"),i()(),a(4,"div",3),i())},dependencies:[c],styles:["#login-bg[_ngcontent-%COMP%]{background-image:url(/media/sign\\ in.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}"]})};export{W as SignInComponent};
