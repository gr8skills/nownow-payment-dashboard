import{a as T,b as i,d as E}from"./chunk-5BL5LVW4.js";import{a as y}from"./chunk-4J7Y23TQ.js";import{c as w,f as I}from"./chunk-J2BWD7VW.js";import{a as k}from"./chunk-ZGIVXYW6.js";import{c as A,e as b,f as R,g as C}from"./chunk-MVDESLFV.js";import"./chunk-334OGYJB.js";import{Ab as g,C as l,P as d,Z as p,cb as h,k as m,la as v,nc as H,y as c}from"./chunk-3TIMSXSI.js";import"./chunk-2NFLSA4Y.js";var S=(t,o)=>{let e=p(T),f=p(i),u=(n,r)=>n.clone({setHeaders:{Authorization:`Bearer ${r}`}}),O=(n,r)=>f.getToken().pipe(d(s=>r(u(n,s?.mfsResponseInfo?.token))),c(s=>(e.deleteTokenAndRedirect(),m(()=>s))));if(e.token&&t.url!==`${y.apiUrl}/mfs-transaction-management/authManagement/get`){let n=u(t,e?.token);return o(n).pipe(c(r=>(r instanceof A&&r?.status===401&&O(t,o),m(()=>r))))}return o(t)};var B={providers:[v(),H(),I(E),b(C(),R([S]))]};var a=class t{title="payment-app";authService=p(i);ngOnInit(){this.getBearerToken()}getBearerToken(){this.authService.getToken().pipe(l(1)).subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,f){e&1&&g(0,"router-outlet")},dependencies:[w],encapsulation:2})};k(a,B).catch(t=>console.error(t));
