import{a as n}from"./chunk-4J7Y23TQ.js";import{d as u}from"./chunk-J2BWD7VW.js";import{a as m,b as p,d as f}from"./chunk-MVDESLFV.js";import{R as c,U as a,Z as o}from"./chunk-3TIMSXSI.js";var s=class r{router=o(u);tokenKey="user-ac";basicTokenKey="auth-t";encryptToken(e){return`eyjh.${e}`}decryptToken(){let e=localStorage.getItem(this.tokenKey);return e?e.split("eyjh.")[1]:null}encryptBasicToken(e){return`eyjh.${e}`}decryptBasicToken(){let e=localStorage.getItem(this.basicTokenKey);return e?e.split("eyjh.")[1]:null}saveTokenToLS(e){let t=this.encryptToken(e);localStorage.setItem(this.tokenKey,t)}saveBasicTokenToLS(e){let t=this.encryptBasicToken(e);localStorage.setItem(this.basicTokenKey,t)}get token(){return this.decryptToken()}get basicToken(){return this.decryptBasicToken()}get isAuthenticated(){return!!this.token}get isBasicAuthenticated(){return!!this.basicToken}deleteTokenAndRedirect(){localStorage.removeItem(this.tokenKey),this.router.navigate(["/auth/login"])}deleteBasicTokenAndRedirect(){localStorage.removeItem(this.basicTokenKey),this.router.navigate(["/auth/login"])}static \u0275fac=function(t){return new(t||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};var y=class r{http=o(f);tokenService=o(s);getToken(){let e={mfsCommonServiceRequest:{mfsSourceInfo:{channelId:"23",surroundSystem:"1"},mfsTransactionInfo:{requestId:"1528888797115",serviceType:"0",timestamp:"1528888797115"}}},t=new m().set("Authorization","Basic YXBpQ2xpZW50OmFwaUNsaWVudFNlY3JldA==");return this.http.post(`${n.apiUrl}/mfs-transaction-management/authManagement/get`,e,{headers:t}).pipe(c(h=>{this.tokenService.saveTokenToLS(h.mfsResponseInfo?.token)}))}sendOtp(e){let t={mfsCommonServiceRequest:{mfsAssistedTransaction:{},mfsSourceInfo:{channelId:"23",surroundSystem:"4"},mfsTransactionInfo:{requestId:"818182106616430892542516996012",serviceType:"0",timestamp:1643089254639}},mfsOptionalInfo:{},mfsRequestInfo:{entityType:"20",language:"ENG",length:"6",msisdn:e,notificationFlag:"1"}};return this.http.post(`${n.apiUrl}/mfs-transaction-management/tokenManagement/V2/get`,t)}validateToken(e){let t=new p({fromObject:{token:e}});return this.http.get(`${n.apiUrl}/mfs-authorization/oauth/check_token`,{params:t})}verifyOtp(e){let t={mfsCommonServiceRequest:{mfsAssistedTransaction:{},mfsSourceInfo:{channelId:"23",surroundSystem:"4"},mfsTransactionInfo:{requestId:7438350824785369,serviceType:"0",timestamp:1675678750898}},mfsOptionalInfo:{},mfsRequestInfo:{bankDetails:{},deviceId:"1e391487f87646b2",deviceIp:"192.168.18.75",entityId:"9012017121",entityType:"23",fieldList:{},grossAmt:0,language:"ENG",netAmt:0,orderNum:0,phone:0,token:e,vehicleType:0}};return this.http.post(`${n.apiUrl}/mfs-transaction-management/tokenManagement/validate`,t)}getUserInfo(){let e={mfsCommonServiceRequest:{mfsSourceInfo:{channelId:23,surroundSystem:1},mfsTransactionInfo:{requestId:"8447220015329561229817922271",serviceType:"0",timestamp:1532956122367}},mfsRequestInfo:{customerMsisdn:"8030000032"}};return this.http.post(`${n.apiUrl}/mfs-transaction-management/userManagement/getUserInfo`,e)}transactionHistory(){let e={mfsCommonServiceRequest:{mfsSourceInfo:{channelId:23,surroundSystem:1},mfsTransactionInfo:{requestId:"8447220015329561229817922271",serviceType:"0",timestamp:1532956122367}},mfsRequestInfo:{entityId:"71000000041",lang:"ENG",walletType:"1"}};return this.http.post(`${n.apiUrl}/mfs-transaction-management/transactionManagement/history`,e)}mewTransactionHistory(){let e={mfsCommonServiceRequest:{mfsSourceInfo:{channelId:23,surroundSystem:1},mfsTransactionInfo:{requestId:"8447220015329561229817922271",serviceType:"0",timestamp:1532956122367}},mfsRequestInfo:{entityId:"71000000041",lang:"ENG",walletType:"1"}};return this.http.post(`${n.apiUrl}/mfs-transaction-management/transactionManagement/newHistory`,e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};var i={auth:"auth",account:"account",home:"",notFound:"not-found"},b=[{path:i.auth,loadChildren:()=>import("./chunk-GEBLEB4I.js")},{path:i.account,loadChildren:()=>import("./chunk-3Y4FWWZ5.js")},{path:i.home,redirectTo:i.auth,pathMatch:"full"}];export{s as a,y as b,i as c,b as d};
